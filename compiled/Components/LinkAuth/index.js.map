{"version":3,"sources":["../../../src/Components/LinkAuth/index.jsx"],"names":["React","connect","NavLink","PRIVS_ENUM","LinkAuth","Component","constructor","props","isOwner","userId","auth","user","id","userProps","user_id","render","link","exact","strict","to","className","children","privsFuncList","privs","map","item","IS_OWNER","IS_LOGGED","is_logged","IS_ANONYMOUS","IS_NOT_OWNER","length","filter","func","mapStateToProps","state","AuthReducer","mapDispatchToProps","dispatch"],"mappings":"AAAA;;;AAIA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,OAAT,QAAwB,kBAAxB;AACA,OAAOC,UAAP,MAAuB,qCAAvB;;AAGA,MAAMC,QAAN,SAAuBJ,KAAK,CAACK,SAA7B,CAAuC;AAEnCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AAEH;;AAGDC,EAAAA,OAAO,GAAG;AACN,QAAIC,MAAM,GAAG,KAAKF,KAAL,CAAWG,IAAX,CAAgBC,IAAhB,CAAqBC,EAAlC;AACA,QAAIC,SAAS,GAAG,KAAKN,KAAL,CAAWO,OAA3B;AACA,WAAOL,MAAM,IAAEI,SAAf;AAEH;;AACDE,EAAAA,MAAM,GAAG;AAEL,QAAIC,IAAI,GAAI,oBAAC,OAAD;AAAS,MAAA,KAAK,EAAE,KAAKT,KAAL,CAAWU,KAA3B;AACR,MAAA,MAAM,EAAE,KAAKV,KAAL,CAAWW,MADX;AAER,MAAA,EAAE,EAAE,KAAKX,KAAL,CAAWY,EAFP;AAEW,MAAA,SAAS,EAAE,KAAKZ,KAAL,CAAWa;AAFjC,OAGP,KAAKb,KAAL,CAAWc,QAHJ,CAAZ;AAMA,QAAIC,aAAa,GAAG,KAAKf,KAAL,CAAWgB,KAAX,GAAiB,KAAKhB,KAAL,CAAWgB,KAAX,CAAiBC,GAAjB,CAAqBC,IAAI,IAAI;AAC9D,cAAQA,IAAR;AACI,aAAKtB,UAAU,CAACuB,QAAhB;AAA0B,iBAAO,MAAI;AAAC,mBAAO,KAAKnB,KAAL,CAAWG,IAAX,CAAgBC,IAAhB,CAAqBC,EAArB,IAAyB,KAAKL,KAAL,CAAWO,OAA3C;AAAmD,WAA/D;;AAC1B,aAAKX,UAAU,CAACwB,SAAhB;AAA2B,iBAAO,MAAM;AAAE,mBAAO,KAAKpB,KAAL,CAAWG,IAAX,CAAgBkB,SAAhB,IAA6B,IAApC;AAA0C,WAAzD;;AAC3B,aAAKzB,UAAU,CAAC0B,YAAhB;AAA8B,iBAAO,MAAM;AAAE,mBAAO,KAAKtB,KAAL,CAAWG,IAAX,CAAgBkB,SAAhB,IAA6B,KAApC;AAA2C,WAA1D;;AAC9B,aAAKzB,UAAU,CAAC2B,YAAhB;AAA8B,iBAAO,MAAM;AAAE,mBAAO,KAAKvB,KAAL,CAAWG,IAAX,CAAgBC,IAAhB,CAAqBC,EAArB,IAAyB,KAAKL,KAAL,CAAWO,OAA3C;AAAmD,WAAlE;AAJlC;AAMH,KAPoC,CAAjB,GAOjB,EAPH,CARK,CAgBL;;AACA,QAAIQ,aAAa,CAACS,MAAd,GAAuB,CAA3B,EAA8B;AAC1B,UAAIT,aAAa,CAACU,MAAd,CAAqBC,IAAI,IAAI;AAC7B;AACA,eAAOA,IAAI,EAAX;AACH,OAHG,EAGDF,MAHC,GAGQ,CAHZ,EAGe;AACX,eAAOf,IAAP;AACH,OALD,MAKK;AACD,eAAO;AAAM,UAAA,SAAK,EAAC;AAAZ,UAAP;AACH;AACJ,KATD,MAUK,IAAI,KAAKT,KAAL,CAAWG,IAAX,CAAgBkB,SAAhB,IAA6B,IAAjC,EAAuC;AACxC,aAAOZ,IAAP;AAEH,KAHI,MAGG;AACJ,aAAO;AAAM,QAAA,SAAK,EAAC;AAAZ,QAAP;AACH;AAEJ;;AAhDkC;;AAoDvC,MAAMkB,eAAe,GAAIC,KAAD,IAAW;AAE/B,SAAO;AAEHzB,IAAAA,IAAI,EAAEyB,KAAK,CAACC;AAFT,GAAP;AAKH,CAPD;;AASA,MAAMC,kBAAkB,GAAIC,QAAD,IAAc;AACrC,SAAO,EAAP;AAKH,CAND;;AAQA,eAAerC,OAAO,CAClBiC,eADkB,EAElBG,kBAFkB,CAAP,CAGbjC,QAHa,CAAf","sourcesContent":["/*\r\n    ./client/components/App.jsx\r\n*/\r\n\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { NavLink } from 'react-router-dom';\r\nimport PRIVS_ENUM from './../../App/Privileges/privsEnum.js';\r\n\r\n\r\nclass LinkAuth extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n    }\r\n\r\n\r\n    isOwner() {\r\n        let userId = this.props.auth.user.id;\r\n        let userProps = this.props.user_id;\r\n        return userId==userProps\r\n\r\n    }\r\n    render() {\r\n\r\n        let link = (<NavLink exact={this.props.exact}\r\n            strict={this.props.strict}\r\n            to={this.props.to} className={this.props.className}>\r\n            {this.props.children}\r\n        </NavLink>)\r\n\r\n        let privsFuncList = this.props.privs?this.props.privs.map(item => {\r\n            switch (item) {\r\n                case PRIVS_ENUM.IS_OWNER: return ()=>{return this.props.auth.user.id==this.props.user_id}\r\n                case PRIVS_ENUM.IS_LOGGED: return () => { return this.props.auth.is_logged == true }\r\n                case PRIVS_ENUM.IS_ANONYMOUS: return () => { return this.props.auth.is_logged != false };\r\n                case PRIVS_ENUM.IS_NOT_OWNER: return () => { return this.props.auth.user.id!=this.props.user_id};\r\n            }\r\n        }):[];\r\n        //console.log(privsFuncList);\r\n        if (privsFuncList.length > 0) {\r\n            if (privsFuncList.filter(func => {\r\n                //console.log(func());\r\n                return func();\r\n            }).length > 0) {\r\n                return link;\r\n            }else{\r\n                return <span class=\"hidden\"></span>\r\n            }\r\n        }\r\n        else if (this.props.auth.is_logged == true) {\r\n            return link\r\n\r\n        }  else {\r\n            return <span class=\"hidden\"></span>\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n\r\n    return {\r\n\r\n        auth: state.AuthReducer\r\n\r\n    };\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n\r\n\r\n\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(LinkAuth);"],"file":"index.js"}