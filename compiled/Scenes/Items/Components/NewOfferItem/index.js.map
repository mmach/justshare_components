{"version":3,"sources":["../../../../../src/Scenes/Items/Components/NewOfferItem/index.jsx"],"names":["React","confirmAlert","connect","Col","Container","Label","Row","uuidv4","CommandList","Translator","QueryList","BaseService","TagComponent","TextArea","TextBox","BodyLoader","CategoryOptionTempFormMapper","CategoryTreePreview","ItemDTO","NewOfferItem","Component","constructor","state","tags","validation","categoryId","categoryIcon","categoryOptionValues","componentDidMount","init","tran","props","codeDict","data","LABEL","lang","onTagChange","setState","nameHandler","event","name","target","value","refreshValidation","descriptionHandler","description","openImage","openLightbox","auth","user","blob_profile","userAccount","images","submitHandler","item","id","category_id","catOptions","console","log","createNewItem","then","succ","onClickTree","currentTarget","getAttribute","getCategoryOptions","categoryName","onClickOutside","loading","onKeypressEscape","customUI","onClose","translate","render","suggestions","phTrans","PLACEHOLDER","loader","BODY_PROGRESS","body","offerItem","filter","Number","order","sort","a","b","map","catOption","values","res","el","co_id","push","bind","category_link","mapStateToProps","DictionaryReducer","LanguageReducer","AuthReducer","LoaderReducer","NewOfferItemReducer","mapDispatchToProps","dispatch","activeImage","type","USER_ACCOUNTS_ACTION","OPEN_LIGHTBOX","dto","queryThunt","CategoryOptions","GET_CATEGORY_OPTION","commandThunt","Item","NEW_ITEM","getUserImages","Blob","GET_USER_IMAGES"],"mappings":"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","sourcesContent":["/*\r\n    ./client/components/App.jsx\r\n*/\r\n\r\nimport React from 'react';\r\nimport { confirmAlert } from 'react-confirm-alert'; // Import\r\nimport { connect } from 'react-redux';\r\nimport { Col, Container, Label, Row } from 'reactstrap';\r\nimport uuidv4 from \"uuid/v4\";\r\nimport CommandList from '../../../../Shared/CommandList.js';\r\nimport { Translator } from '../../../../Shared/index.js';\r\nimport QueryList from '../../../../Shared/QueryList.js';\r\nimport { BaseService } from '../../../../App/index.js';\r\nimport TagComponent from '../../../../Components/FormComponent/Components/TagComponent/index.jsx';\r\nimport { TextArea, TextBox } from '../../../../Components/index.js';\r\nimport BodyLoader from '../../../../Components/Loader/BodyLoader/index.jsx';\r\nimport CategoryOptionTempFormMapper from '../../../Categories/Components/CategoryOptionTempMapper/CategoryOptionTempFormMapper.jsx';\r\nimport CategoryTreePreview from '../../../Categories/Scenes/CategoryTreePreview/index.jsx';\r\nimport ItemDTO from './../../../../Shared/DTO/Item/ItemDTO.js';\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass NewOfferItem extends React.Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = new ItemDTO();\r\n        this.state.tags = [\r\n\r\n        ]\r\n\r\n\r\n        this.state.validation = [];\r\n        this.state.categoryId = 0;\r\n        this.state.categoryIcon = '';\r\n        this.state.categoryOptionValues = [];\r\n\r\n    }\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    init() {\r\n        this.tran = Translator(this.props.codeDict.data.LABEL, this.props.lang);\r\n\r\n\r\n    }\r\n    onTagChange(tags) {\r\n        this.setState({\r\n            tags: tags\r\n        })\r\n    }\r\n\r\n    nameHandler(event) {\r\n        this.setState({\r\n            name: event.target.value\r\n\r\n        });\r\n        this.refreshValidation();\r\n    }\r\n    descriptionHandler(event) {\r\n        this.setState({\r\n            description: event.target.value\r\n\r\n        });\r\n        this.refreshValidation();\r\n    }\r\n    openImage(event) {\r\n\r\n        this.props.openLightbox(this.props.auth.user.blob_profile, this.props.userAccount.images)\r\n    }\r\n    submitHandler(event) {\r\n\r\n        let item = {\r\n            id: uuidv4(),\r\n            name: this.state.name,\r\n            description: this.state.description,\r\n            category_id: this.state.categoryId,\r\n            catOptions: this.state.categoryOptionValues,\r\n            tags: this.state.tags\r\n        }\r\n        console.log(item);\r\n        this.props.createNewItem(item).then(succ => {\r\n            console.log(succ);\r\n        })\r\n    }\r\n    onClickTree(event) {\r\n        console.log(event.currentTarget.getAttribute('data-name'))\r\n        if (this.state.categoryId == 0) {\r\n            this.props.getCategoryOptions(event.currentTarget.getAttribute('data-key')).then(succ => {\r\n                console.log(succ);\r\n            });\r\n\r\n            this.setState({\r\n                categoryId: event.currentTarget.getAttribute('data-key'),\r\n                categoryName: event.currentTarget.getAttribute('data-name'),\r\n                categoryIcon: event.currentTarget.getAttribute('data-icon')\r\n            });\r\n\r\n        } else {\r\n            let categoryId = event.currentTarget.getAttribute('data-key');\r\n            let categoryName = event.currentTarget.getAttribute('data-name')\r\n            let categoryIcon = event.currentTarget.getAttribute('data-icon')\r\n\r\n            confirmAlert({\r\n                onClickOutside: () => {\r\n                    this.setState(\r\n                        {\r\n                            loading: false\r\n                        }\r\n                    )\r\n                },\r\n                onKeypressEscape: () => {\r\n                    this.setState(\r\n                        {\r\n                            loading: false\r\n                        }\r\n                    )\r\n                },\r\n                customUI: ({ onClose }) => {\r\n                    return (\r\n                        <div className='g-py-40 g-brd-around rounded-0 g-brd-gray-light-v3 g-bg-white-opacity-0_8 g-px-50 text-center'>\r\n                            <h1 className=\"h6 text-uppercase g-letter-spacing-2 g-font-weight-600 text-uppercase text-center  g-color-gray-dark-v4 g-mb-5\">{Translator(this.props.codeDict.data.LABEL, this.props.lang).translate('CATEGORY_NEW_CHANGE_CATEGORY_CONFIRM_HEADER')}</h1>\r\n                            <p className=\"g-line-height-1_8 g-letter-spacing-1  g-mb-20 form-control-label\">{Translator(this.props.codeDict.data.LABEL, this.props.lang).translate('CATEGORY_NEW_CHANGE_CATEGORY_TEXT_CONFIRM', ...[this.state.categoryName, categoryName]) + \" \"} </p>\r\n                            <button className=\"btn g-mr-5 g-brd-none u-btn-primary rounded-0 g-letter-spacing-1 g-font-weight-700 g-font-size-12 text-uppercase btn btn-secondary btn-md\"\r\n                                onClick={() => {\r\n                                    this.setState({\r\n                                        categoryId: categoryId,\r\n                                        categoryName: categoryName,\r\n                                        categoryIcon: categoryIcon\r\n                                    });\r\n                                    this.props.getCategoryOptions(categoryId);\r\n                                    onClose();\r\n                                }}\r\n                            >\r\n                                {Translator(this.props.codeDict.data.LABEL, this.props.lang).translate('YES_LABEL')}\r\n                            </button>\r\n                            <button className=\"g-ml-5 btn g-brd-none u-btn-primary rounded-0 g-letter-spacing-1 g-font-weight-700 g-font-size-12 text-uppercase btn btn-secondary btn-md\" onClick={() => {\r\n\r\n                                onClose()\r\n                            }}>{Translator(this.props.codeDict.data.LABEL, this.props.lang).translate('NO_LABEL')}</button>\r\n\r\n                        </div>\r\n                    );\r\n                }\r\n\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        this.init();\r\n        const { tags, suggestions } = this.state;\r\n\r\n        const phTrans = Translator(this.props.codeDict.data.PLACEHOLDER, this.props.lang);\r\n\r\n        if (this.props.loader.BODY_PROGRESS < 100) {\r\n            return (<BodyLoader zIndex={3} height=\"800px\" size=\"100px\" progress={this.props.loader.BODY_PROGRESS} />);\r\n        }\r\n        //  if (this.props.userAccount.getImagesIsLoading == true) {\r\n        //      return (<BodyLoader zIndex={3} height=\"800px\" size=\"100px\" progress={this.props.loader.BODY_PROGRESS} />);\r\n        //  }\r\n\r\n\r\n\r\n\r\n        let body =\r\n            <Container className=\"g-pa-30 g-mb-30\">\r\n                <Col className=\"text-center mx-auto g-max-width-600 g-mb-10\">\r\n\r\n                    <h5 className=\"h6 text-uppercase g-letter-spacing-2 g-font-weight-600 text-uppercase text-center  g-color-gray-dark-v4 g-mb-5\">{this.tran.translate('NEW_ITEM_HEADER')}</h5>\r\n                    {this.state.categoryId != 0 ? (<Label className=\"g-line-height-1_8 g-letter-spacing-1  g-mb-20\">{this.tran.translate('NEW_ITEM_SELL_CATEGORY_SET_HEADER', ...[this.state.categoryName])}</Label>) : <span></span>}\r\n                </Col>\r\n\r\n                <Row><Col xs=\"12\">\r\n                    {\r\n                        this.props.offerItem.catOptions.filter(item => {\r\n                            return Number(item.order) <= -10\r\n                        }).sort((a, b) => {\r\n                            return Number(a.order) > Number(b.order) ? 1 : -1\r\n                        }).map(item => {\r\n                            return <CategoryOptionTempFormMapper catOption={item} categoryIcon={this.state.categoryIcon} onChange={(catOption, values) => {\r\n                                //    console.log(event.currentTarget.value);\r\n                                //  console.log(item.id);\r\n                                let res = values.map(el => {\r\n                                    el.co_id = item.id\r\n                                    return el\r\n                                })\r\n                                this.state.categoryOptionValues = this.state.categoryOptionValues.filter(el => { return el.co_id != item.id })\r\n                                this.state.categoryOptionValues.push(...res)\r\n                                console.log(this.state.categoryOptionValues)\r\n                            }}></CategoryOptionTempFormMapper>\r\n                        })\r\n                    }\r\n                </Col>\r\n                    {!this.state.categoryId ? (\r\n                        <Col xs=\"5\">\r\n\r\n                            <CategoryTreePreview setOnlyLeaf={true} categoryId={this.state.categoryId} onClick={this.onClickTree.bind(this)}></CategoryTreePreview>\r\n                        </Col>\r\n                    ) : <Col xs=\"6\">\r\n                            {\r\n                                this.props.offerItem.catOptions.filter(item => {\r\n                                    return Number(item.order) < 0 && Number(item.order) > -10\r\n                                }).sort((a, b) => {\r\n                                    return Number(a.order) > Number(b.order) ? 1 : -1\r\n                                }).map(item => {\r\n                                    return <CategoryOptionTempFormMapper catOption={item} categoryIcon={this.state.categoryIcon} onChange={(catOption, values) => {\r\n                                        let res = values.map(el => {\r\n                                            el.co_id = item.id\r\n                                            return el\r\n                                        })\r\n                                        this.state.categoryOptionValues = this.state.categoryOptionValues.filter(el => { return el.co_id != item.id })\r\n                                        this.state.categoryOptionValues.push(...res)\r\n                                        console.log(this.state.categoryOptionValues)\r\n\r\n                                    }}></CategoryOptionTempFormMapper>\r\n                                })\r\n                            }\r\n                        </Col>}\r\n                    <Col xs=\"6\" className=\"g-pt-20\">\r\n\r\n\r\n                        <TextBox placeholder={phTrans.translate('ITEM_NAME_PLACEHOLDER')} isRequired={true} label={this.tran.translate('ITEM_NAME_LABEL')} value={this.state.name} onChange={this.nameHandler.bind(this)} field=\"name\" validation={this.state.validation} />\r\n                        <TextArea placeholder={phTrans.translate('ITEM_DESCRIPTION_PLACEHOLDER')} isRequired={true} label={this.tran.translate('ITEM_DESCRIPTION_LABEL')} value={this.state.description} onChange={this.descriptionHandler.bind(this)} field=\"name\" validation={this.state.validation} />\r\n                        <TagComponent onChange={this.onTagChange.bind(this)} label={this.tran.translate('ITEM_TAGS_LABEL')} tags={this.state.tags} field=\"tag\" validation={this.state.validation} />\r\n                        {\r\n                            this.props.offerItem.catOptions.filter(item => {\r\n                                return Number(item.order) >= 0\r\n                            }).sort((a, b) => {\r\n                                return Number(a.category_link[0].order ? a.category_link[0].order : a.order) > Number(b.category_link[0].order ? b.category_link[0].order : b.order) ? 1 : -1\r\n                            }).map(item => {\r\n                                return <CategoryOptionTempFormMapper catOption={item} categoryIcon={this.state.categoryIcon} onChange={(catOption, values) => {\r\n                                    let res = values.map(el => {\r\n                                        el.co_id = item.id\r\n                                        return el\r\n                                    })\r\n                                    this.state.categoryOptionValues = this.state.categoryOptionValues.filter(el => { return el.co_id != item.id })\r\n                                    this.state.categoryOptionValues.push(...res)\r\n                                    console.log(this.state.categoryOptionValues)\r\n                                }}></CategoryOptionTempFormMapper>\r\n                            })\r\n                        }\r\n\r\n                    </Col>\r\n                </Row>\r\n                {this.state.categoryId != 0 ? (<center className=\"text-center\">\r\n                    <button onClick={this.submitHandler.bind(this)} type=\"button\" class=\"btn g-brd-none u-btn-primary rounded-0 g-letter-spacing-1 g-font-weight-700 g-font-size-12 text-uppercase btn btn-secondary btn-md\">{this.tran.translate('SAVE_NEW_ITEM_LINK')} </button>\r\n                </center>) : <span></span>}\r\n            </Container >\r\n        return (\r\n\r\n\r\n            body\r\n\r\n\r\n\r\n        );\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    //console.log(state);\r\n\r\n    return {\r\n        codeDict: state.DictionaryReducer,\r\n        lang: state.LanguageReducer,\r\n        auth: state.AuthReducer,\r\n        loader: state.LoaderReducer,\r\n        offerItem: state.NewOfferItemReducer\r\n\r\n    };\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n\r\n\r\n       \r\n        openLightbox: (activeImage, images) => {\r\n            return dispatch({\r\n                type: USER_ACCOUNTS_ACTION.OPEN_LIGHTBOX,\r\n                dto: {\r\n                    images: images,\r\n                    activeImage: activeImage\r\n                }\r\n            })\r\n\r\n        },\r\n        getCategoryOptions: (category_id) => {\r\n            return dispatch(new BaseService().queryThunt(QueryList.CategoryOptions.GET_CATEGORY_OPTION, { id: category_id }));\r\n\r\n        },\r\n        createNewItem: (dto) => {\r\n            return dispatch(new BaseService().commandThunt(CommandList.Item.NEW_ITEM, dto));\r\n\r\n        },\r\n        getUserImages: (dto) => {\r\n            return dispatch(new BaseService().queryThunt(QueryList.Blob.GET_USER_IMAGES, dto, null))\r\n\r\n        },\r\n\r\n\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(NewOfferItem);"],"file":"index.js"}